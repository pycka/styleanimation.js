/* StyleAnimation by Rados≈Çaw Pycka, MIT licensed */
function styleAnimation(a,c,b,f,e){try{if(!Object.prototype.toString.call(a)==="[object Array]"||!a.length)a=[a]}catch(g){a=[a]}a=new styleAnimation.Animation(a,c,b,f,e);a.start();return a} styleAnimation.Animation=function(a,c,b,f,e){var g=styleAnimation.getComputedStyle;this.elements=[];this.count=a.length;this.duration=b||500;this.easing=e&&(Object.prototype.toString.call(e)==="[object Function]"||styleAnimation.dynamics[e])||styleAnimation.dynamics.linear;this.callback=f;b=0;for(f=this.count;b<f;++b){var e=a[b],i={node:e},d=[],h;for(h in c)if(c.hasOwnProperty(h)){var j=styleAnimation.properties[h]||styleAnimation.accessors.numeric,j={name:h,accessor:j,start:j.get(g(e,h)),target:j.get(c[h])}; d.push(j)}i.properties=d;this.propertyCount=d.length;this.elements.push(i)}return this};styleAnimation.Animation.prototype.stop=function(){this.cancel=!0};styleAnimation.Animation.prototype.start=function(){var a=this;this.cancel=!1;this.startTime=styleAnimation.utime();this.requestAnimationFrame(function(){a.animate()})};styleAnimation.Animation.prototype.requestAnimationFrame=function(){return function(a){this.timer=setTimeout(a,10)}}(window); styleAnimation.Animation.prototype.animate=function(a){var c=this;if(!this.cancel)if(a=styleAnimation.utime(),a=(a-this.startTime)/this.duration,a<1){for(var b=0,f=this.count;b<f;++b)for(var e=this.elements[b],g=0,i=this.propertyCount;g<i;++g){var d=e.properties[g],h=d.accessor.update(d.start,d.target,this.easing(a));d.accessor.set(e.node,d.name,d.start,h)}this.requestAnimationFrame(function(){c.animate()})}else{b=0;for(f=this.count;b<f;++b){e=this.elements[b];g=0;for(i=this.propertyCount;g<i;++g)d= e.properties[g],d.accessor.set(e.node,d.name,d.start,d.target)}}};styleAnimation.accessors={};styleAnimation.accessors.numeric={get:function(a){var c=null;(a=/([.0-9+-]+)([^.0-9+-]+)?/.exec(a))&&(c={value:a[1]>>>0,unit:a[2]||null});return c},set:function(a,c,b,f){a.style[c]=f.value+b.unit},update:function(a,c,b){return{value:a.value+(c.value-a.value)*b,unit:a.unit}}};styleAnimation.properties={}; styleAnimation.getComputedStyle=function(a,c){if(a.getComputedStyle)return function(b,c){return a.getComputedStyle(b,null)[c]};else if(c.documentElement.currentStyle)return function(a,c){return a.currentStyle[c]};else throw Error("styleAnimation: no supported getter for computed CSS properties found");}(window,document);styleAnimation.utime=function(){return Date.now?function(){return Date.now()}:function(){return new Date}}();styleAnimation.dynamics={};styleAnimation.dynamics.linear=function(a){return a};
